!function(e,t,n,r){"use strict";void 0!==(t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")())&&t.Math==Math||"undefined"!=typeof self&&self.Math==Math||Function("return this")(),e.fn.progress=function(t){var a,o=e(this),i=o.selector||"",s=(new Date).getTime(),l=[],c=t,u="string"==typeof c,d=[].slice.call(arguments,1);return o.each((function(){var o=e.isPlainObject(t)?e.extend(!0,{},e.fn.progress.settings,t):e.extend({},e.fn.progress.settings),g=o.className,v=o.metadata,p=o.namespace,f=o.selector,m=o.error,b="."+p,h="module-"+p,x=e(this),w=e(this).find(f.bar),y=e(this).find(f.progress),V=e(this).find(f.label),C=this,E=x.data(h),P=!1,T={initialize:function(){T.debug("Initializing progress bar",o),T.set.duration(),T.set.transitionEvent(),T.read.metadata(),T.read.settings(),T.instantiate()},instantiate:function(){T.verbose("Storing instance of progress",T),E=T,x.data(h,T)},destroy:function(){T.verbose("Destroying previous progress for",x),clearInterval(E.interval),T.remove.state(),x.removeData(h),E=r},reset:function(){T.remove.nextValue(),T.update.progress(0)},complete:function(){(T.percent===r||T.percent<100)&&(T.remove.progressPoll(),T.set.percent(100))},read:{metadata:function(){var e={percent:x.data(v.percent),total:x.data(v.total),value:x.data(v.value)};e.percent&&(T.debug("Current percent value set from metadata",e.percent),T.set.percent(e.percent)),e.total&&(T.debug("Total value set from metadata",e.total),T.set.total(e.total)),e.value&&(T.debug("Current value set from metadata",e.value),T.set.value(e.value),T.set.progress(e.value))},settings:function(){!1!==o.total&&(T.debug("Current total set in settings",o.total),T.set.total(o.total)),!1!==o.value&&(T.debug("Current value set in settings",o.value),T.set.value(o.value),T.set.progress(T.value)),!1!==o.percent&&(T.debug("Current percent set in settings",o.percent),T.set.percent(o.percent))}},bind:{transitionEnd:function(e){var t=T.get.transitionEnd();w.one(t+b,(function(t){clearTimeout(T.failSafeTimer),e.call(this,t)})),T.failSafeTimer=setTimeout((function(){w.triggerHandler(t)}),o.duration+o.failSafeDelay),T.verbose("Adding fail safe timer",T.timer)}},increment:function(e){var t,n;T.has.total()?n=(t=T.get.value())+(e=e||1):(n=(t=T.get.percent())+(e=e||T.get.randomValue()),T.debug("Incrementing percentage by",t,n)),n=T.get.normalizedValue(n),T.set.progress(n)},decrement:function(e){var t,n;T.get.total()?(n=(t=T.get.value())-(e=e||1),T.debug("Decrementing value by",e,t)):(n=(t=T.get.percent())-(e=e||T.get.randomValue()),T.debug("Decrementing percentage by",e,t)),n=T.get.normalizedValue(n),T.set.progress(n)},has:{progressPoll:function(){return T.progressPoll},total:function(){return!1!==T.get.total()}},get:{text:function(e){var t=T.value||0,n=T.total||0,r=P?T.get.displayPercent():T.percent||0,a=0<T.total?n-t:100-r;return e=(e=e||"").replace("{value}",t).replace("{total}",n).replace("{left}",a).replace("{percent}",r),T.verbose("Adding variables to progress bar text",e),e},normalizedValue:function(e){if(e<0)return T.debug("Value cannot decrement below 0"),0;if(T.has.total()){if(e>T.total)return T.debug("Value cannot increment above total",T.total),T.total}else if(100<e)return T.debug("Value cannot increment above 100 percent"),100;return e},updateInterval:function(){return"auto"==o.updateInterval?o.duration:o.updateInterval},randomValue:function(){return T.debug("Generating random increment percentage"),Math.floor(Math.random()*o.random.max+o.random.min)},numericValue:function(e){return"string"==typeof e?""!==e.replace(/[^\d.]/g,"")&&+e.replace(/[^\d.]/g,""):e},transitionEnd:function(){var e,t=n.createElement("element"),a={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in a)if(t.style[e]!==r)return a[e]},displayPercent:function(){var e=w.width(),t=x.width(),n=parseInt(w.css("min-width"),10)<e?e/t*100:T.percent;return 0<o.precision?Math.round(n*(10*o.precision))/(10*o.precision):Math.round(n)},percent:function(){return T.percent||0},value:function(){return T.nextValue||T.value||0},total:function(){return T.total||!1}},create:{progressPoll:function(){T.progressPoll=setTimeout((function(){T.update.toNextValue(),T.remove.progressPoll()}),T.get.updateInterval())}},is:{complete:function(){return T.is.success()||T.is.warning()||T.is.error()},success:function(){return x.hasClass(g.success)},warning:function(){return x.hasClass(g.warning)},error:function(){return x.hasClass(g.error)},active:function(){return x.hasClass(g.active)},visible:function(){return x.is(":visible")}},remove:{progressPoll:function(){T.verbose("Removing progress poll timer"),T.progressPoll&&(clearTimeout(T.progressPoll),delete T.progressPoll)},nextValue:function(){T.verbose("Removing progress value stored for next update"),delete T.nextValue},state:function(){T.verbose("Removing stored state"),delete T.total,delete T.percent,delete T.value},active:function(){T.verbose("Removing active state"),x.removeClass(g.active)},success:function(){T.verbose("Removing success state"),x.removeClass(g.success)},warning:function(){T.verbose("Removing warning state"),x.removeClass(g.warning)},error:function(){T.verbose("Removing error state"),x.removeClass(g.error)}},set:{barWidth:function(e){100<e?T.error(m.tooHigh,e):e<0?T.error(m.tooLow,e):(w.css("width",e+"%"),x.attr("data-percent",parseInt(e,10)))},duration:function(e){e="number"==typeof(e=e||o.duration)?e+"ms":e,T.verbose("Setting progress bar transition duration",e),w.css({"transition-duration":e})},percent:function(e){e="string"==typeof e?+e.replace("%",""):e,e=0<o.precision?Math.round(e*(10*o.precision))/(10*o.precision):Math.round(e),T.percent=e,T.has.total()||(T.value=0<o.precision?Math.round(e/100*T.total*(10*o.precision))/(10*o.precision):Math.round(e/100*T.total*10)/10,o.limitValues&&(T.value=100<T.value?100:T.value<0?0:T.value)),T.set.barWidth(e),T.set.labelInterval(),T.set.labels(),o.onChange.call(C,e,T.value,T.total)},labelInterval:function(){clearInterval(T.interval),T.bind.transitionEnd((function(){T.verbose("Bar finished animating, removing continuous label updates"),clearInterval(T.interval),P=!1,T.set.labels()})),P=!0,T.interval=setInterval((function(){e.contains(n.documentElement,C)||(clearInterval(T.interval),P=!1),T.set.labels()}),o.framerate)},labels:function(){T.verbose("Setting both bar progress and outer label text"),T.set.barLabel(),T.set.state()},label:function(e){(e=e||"")&&(e=T.get.text(e),T.verbose("Setting label to text",e),V.text(e))},state:function(e){100===(e=e!==r?e:T.percent)?o.autoSuccess&&!(T.is.warning()||T.is.error()||T.is.success())?(T.set.success(),T.debug("Automatically triggering success at 100%")):(T.verbose("Reached 100% removing active state"),T.remove.active(),T.remove.progressPoll()):0<e?(T.verbose("Adjusting active progress bar label",e),T.set.active()):(T.remove.active(),T.set.label(o.text.active))},barLabel:function(e){e!==r?y.text(T.get.text(e)):"ratio"==o.label&&T.total?(T.verbose("Adding ratio to bar label"),y.text(T.get.text(o.text.ratio))):"percent"==o.label&&(T.verbose("Adding percentage to bar label"),y.text(T.get.text(o.text.percent)))},active:function(e){e=e||o.text.active,T.debug("Setting active state"),o.showActivity&&!T.is.active()&&x.addClass(g.active),T.remove.warning(),T.remove.error(),T.remove.success(),(e=o.onLabelUpdate("active",e,T.value,T.total))&&T.set.label(e),T.bind.transitionEnd((function(){o.onActive.call(C,T.value,T.total)}))},success:function(e){e=e||o.text.success||o.text.active,T.debug("Setting success state"),x.addClass(g.success),T.remove.active(),T.remove.warning(),T.remove.error(),T.complete(),e=o.text.success?o.onLabelUpdate("success",e,T.value,T.total):o.onLabelUpdate("active",e,T.value,T.total),T.set.label(e),T.bind.transitionEnd((function(){o.onSuccess.call(C,T.total)}))},warning:function(e){e=e||o.text.warning,T.debug("Setting warning state"),x.addClass(g.warning),T.remove.active(),T.remove.success(),T.remove.error(),T.complete(),(e=o.onLabelUpdate("warning",e,T.value,T.total))&&T.set.label(e),T.bind.transitionEnd((function(){o.onWarning.call(C,T.value,T.total)}))},error:function(e){e=e||o.text.error,T.debug("Setting error state"),x.addClass(g.error),T.remove.active(),T.remove.success(),T.remove.warning(),T.complete(),(e=o.onLabelUpdate("error",e,T.value,T.total))&&T.set.label(e),T.bind.transitionEnd((function(){o.onError.call(C,T.value,T.total)}))},transitionEvent:function(){T.get.transitionEnd()},total:function(e){T.total=e},value:function(e){T.value=e},progress:function(e){T.has.progressPoll()?(T.debug("Updated within interval, setting next update to use new value",e),T.set.nextValue(e)):(T.debug("First update in progress update interval, immediately updating",e),T.update.progress(e),T.create.progressPoll())},nextValue:function(e){T.nextValue=e}},update:{toNextValue:function(){var e=T.nextValue;e&&(T.debug("Update interval complete using last updated value",e),T.update.progress(e),T.remove.nextValue())},progress:function(e){var t;!1===(e=T.get.numericValue(e))&&T.error(m.nonNumeric,e),e=T.get.normalizedValue(e),T.has.total()?(T.set.value(e),t=e/T.total*100,T.debug("Calculating percent complete from total",t)):(t=e,T.debug("Setting value to exact percentage value",t)),T.set.percent(t)}},setting:function(t,n){if(T.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,o,t);else{if(n===r)return o[t];e.isPlainObject(o[t])?e.extend(!0,o[t],n):o[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,T,t);else{if(n===r)return T[t];T[t]=n}},debug:function(){!o.silent&&o.debug&&(o.performance?T.performance.log(arguments):(T.debug=Function.prototype.bind.call(console.info,console,o.name+":"),T.debug.apply(console,arguments)))},verbose:function(){!o.silent&&o.verbose&&o.debug&&(o.performance?T.performance.log(arguments):(T.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),T.verbose.apply(console,arguments)))},error:function(){o.silent||(T.error=Function.prototype.bind.call(console.error,console,o.name+":"),T.error.apply(console,arguments))},performance:{log:function(e){var t,n;o.performance&&(n=(t=(new Date).getTime())-(s||t),s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:C,"Execution Time":n})),clearTimeout(T.performance.timer),T.performance.timer=setTimeout(T.performance.display,500)},display:function(){var t=o.name+":",n=0;s=!1,clearTimeout(T.performance.timer),e.each(l,(function(e,t){n+=t["Execution Time"]})),t+=" "+n+"ms",i&&(t+=" '"+i+"'"),(console.group!==r||console.table!==r)&&0<l.length&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,(function(e,t){t.Name,t["Execution Time"]})),console.groupEnd()),l=[]}},invoke:function(t,n,o){var i,s,l,c=E;return n=n||d,o=C||o,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),i=t.length-1,e.each(t,(function(n,a){var o=n!=i?a+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=i)c=c[o];else{if(c[o]!==r)return s=c[o],!1;if(!e.isPlainObject(c[a])||n==i)return c[a]!==r?s=c[a]:T.error(m.method,t),!1;c=c[a]}}))),e.isFunction(s)?l=s.apply(o,n):s!==r&&(l=s),e.isArray(a)?a.push(l):a!==r?a=[a,l]:l!==r&&(a=l),s}};u?(E===r&&T.initialize(),T.invoke(c)):(E!==r&&E.invoke("destroy"),T.initialize())})),a!==r?a:this},e.fn.progress.settings={name:"Progress",namespace:"progress",silent:!1,debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,updateInterval:"auto",autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1e3/30,percent:!1,total:!1,value:!1,failSafeDelay:100,onLabelUpdate:function(e,t,n,r){return t},onChange:function(e,t,n){},onSuccess:function(e){},onActive:function(e,t){},onError:function(e,t){},onWarning:function(e,t){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document);