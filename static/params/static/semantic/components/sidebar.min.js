!function(e,i,n,t){"use strict";i=void 0!==i&&i.Math==Math?i:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.sidebar=function(o){var r,s=e(this),a=e(i),l=e(n),c=e("html"),d=e("head"),u=s.selector||"",f=(new Date).getTime(),b=[],h=o,m="string"==typeof h,g=[].slice.call(arguments,1),v=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||i.msRequestAnimationFrame||function(e){setTimeout(e,0)};return s.each((function(){var s,p,y,C,k,w=e.isPlainObject(o)?e.extend(!0,{},e.fn.sidebar.settings,o):e.extend({},e.fn.sidebar.settings),T=w.selector,x=w.className,S=w.namespace,A=w.regExp,F=w.error,O="."+S,P="module-"+S,E=e(this),H=e(w.context),M=E.children(T.sidebar),D=(H.children(T.fixed),H.children(T.pusher)),j=this,R=E.data(P),z={initialize:function(){z.debug("Initializing sidebar",o),z.create.id(),k=z.get.transitionEvent(),w.delaySetup?v(z.setup.layout):z.setup.layout(),v((function(){z.setup.cache()})),z.instantiate()},instantiate:function(){z.verbose("Storing instance of module",z),R=z,E.data(P,z)},create:{id:function(){y=(Math.random().toString(16)+"000000000").substr(2,8),p="."+y,z.verbose("Creating unique id for element",y)}},destroy:function(){z.verbose("Destroying previous module for",E),E.off(O).removeData(P),z.is.ios()&&z.remove.ios(),H.off(p),a.off(p),l.off(p)},event:{clickaway:function(e){var i=0<D.find(e.target).length||D.is(e.target),n=H.is(e.target);i&&(z.verbose("User clicked on dimmed page"),z.hide()),n&&(z.verbose("User clicked on dimmable context (scaled out page)"),z.hide())},touch:function(e){},containScroll:function(e){j.scrollTop<=0&&(j.scrollTop=1),j.scrollTop+j.offsetHeight>=j.scrollHeight&&(j.scrollTop=j.scrollHeight-j.offsetHeight-1)},scroll:function(i){0===e(i.target).closest(T.sidebar).length&&i.preventDefault()}},bind:{clickaway:function(){z.verbose("Adding clickaway events to context",H),w.closable&&H.on("click"+p,z.event.clickaway).on("touchend"+p,z.event.clickaway)},scrollLock:function(){w.scrollLock&&(z.debug("Disabling page scroll"),a.on("DOMMouseScroll"+p,z.event.scroll)),z.verbose("Adding events to contain sidebar scroll"),l.on("touchmove"+p,z.event.touch),E.on("scroll"+O,z.event.containScroll)}},unbind:{clickaway:function(){z.verbose("Removing clickaway events from context",H),H.off(p)},scrollLock:function(){z.verbose("Removing scroll lock from page"),l.off(p),a.off(p),E.off("scroll"+O)}},add:{inlineCSS:function(){var i,n=z.cache.width||E.outerWidth(),t=z.cache.height||E.outerHeight(),o=z.is.rtl(),r=z.get.direction(),a={left:n,right:-n,top:t,bottom:-t};o&&(z.verbose("RTL detected, flipping widths"),a.left=-n,a.right=n),i="<style>","left"===r||"right"===r?(z.debug("Adding CSS rules for animation distance",n),i+=" .ui.visible."+r+".sidebar ~ .fixed, .ui.visible."+r+".sidebar ~ .pusher {   -webkit-transform: translate3d("+a[r]+"px, 0, 0);           transform: translate3d("+a[r]+"px, 0, 0); }"):"top"!==r&&"bottom"!=r||(i+=" .ui.visible."+r+".sidebar ~ .fixed, .ui.visible."+r+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+a[r]+"px, 0);           transform: translate3d(0, "+a[r]+"px, 0); }"),z.is.ie()&&("left"===r||"right"===r?(z.debug("Adding CSS rules for animation distance",n),i+=" body.pushable > .ui.visible."+r+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+a[r]+"px, 0, 0);           transform: translate3d("+a[r]+"px, 0, 0); }"):"top"!==r&&"bottom"!=r||(i+=" body.pushable > .ui.visible."+r+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+a[r]+"px, 0);           transform: translate3d(0, "+a[r]+"px, 0); }"),i+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),s=e(i+="</style>").appendTo(d),z.debug("Adding sizing css to head",s)}},refresh:function(){z.verbose("Refreshing selector cache"),H=e(w.context),M=H.children(T.sidebar),D=H.children(T.pusher),H.children(T.fixed),z.clear.cache()},refreshSidebars:function(){z.verbose("Refreshing other sidebars"),M=H.children(T.sidebar)},repaint:function(){z.verbose("Forcing repaint event"),j.style.display="none",j.offsetHeight,j.scrollTop=j.scrollTop,j.style.display=""},setup:{cache:function(){z.cache={width:E.outerWidth(),height:E.outerHeight(),rtl:"rtl"==E.css("direction")}},layout:function(){0===H.children(T.pusher).length&&(z.debug("Adding wrapper element for sidebar"),z.error(F.pusher),D=e('<div class="pusher" />'),H.children().not(T.omitted).not(M).wrapAll(D),z.refresh()),0!==E.nextAll(T.pusher).length&&E.nextAll(T.pusher)[0]===D[0]||(z.debug("Moved sidebar to correct parent element"),z.error(F.movedSidebar,j),E.detach().prependTo(H),z.refresh()),z.clear.cache(),z.set.pushable(),z.set.direction()}},attachEvents:function(i,n){var t=e(i);n=e.isFunction(z[n])?z[n]:z.toggle,0<t.length?(z.debug("Attaching sidebar events to element",i,n),t.on("click"+O,n)):z.error(F.notFound,i)},show:function(i){if(i=e.isFunction(i)?i:function(){},z.is.hidden()){if(z.refreshSidebars(),w.overlay&&(z.error(F.overlay),w.transition="overlay"),z.refresh(),z.othersActive())if(z.debug("Other sidebars currently visible"),w.exclusive){if("overlay"!=w.transition)return void z.hideOthers(z.show);z.hideOthers()}else w.transition="overlay";z.pushPage((function(){i.call(j),w.onShow.call(j)})),w.onChange.call(j),w.onVisible.call(j)}else z.debug("Sidebar is already visible")},hide:function(i){i=e.isFunction(i)?i:function(){},(z.is.visible()||z.is.animating())&&(z.debug("Hiding sidebar",i),z.refreshSidebars(),z.pullPage((function(){i.call(j),w.onHidden.call(j)})),w.onChange.call(j),w.onHide.call(j))},othersAnimating:function(){return 0<M.not(E).filter("."+x.animating).length},othersVisible:function(){return 0<M.not(E).filter("."+x.visible).length},othersActive:function(){return z.othersVisible()||z.othersAnimating()},hideOthers:function(e){var i=M.not(E).filter("."+x.visible),n=i.length,t=0;e=e||function(){},i.sidebar("hide",(function(){++t==n&&e()}))},toggle:function(){z.verbose("Determining toggled direction"),z.is.hidden()?z.show():z.hide()},pushPage:function(i){var n,t,o,r=z.get.transition(),s="overlay"===r||z.othersActive()?E:D;i=e.isFunction(i)?i:function(){},"scale down"==w.transition&&z.scrollToTop(),z.set.transition(r),z.repaint(),n=function(){z.bind.clickaway(),z.add.inlineCSS(),z.set.animating(),z.set.visible()},t=function(){z.set.dimmed()},o=function(e){e.target==s[0]&&(s.off(k+p,o),z.remove.animating(),z.bind.scrollLock(),i.call(j))},s.off(k+p),s.on(k+p,o),v(n),w.dimPage&&!z.othersVisible()&&v(t)},pullPage:function(i){var n,t,o=z.get.transition(),r="overlay"==o||z.othersActive()?E:D;i=e.isFunction(i)?i:function(){},z.verbose("Removing context push state",z.get.direction()),z.unbind.clickaway(),z.unbind.scrollLock(),n=function(){z.set.transition(o),z.set.animating(),z.remove.visible(),w.dimPage&&!z.othersVisible()&&D.removeClass(x.dimmed)},t=function(e){e.target==r[0]&&(r.off(k+p,t),z.remove.animating(),z.remove.transition(),z.remove.inlineCSS(),("scale down"==o||w.returnScroll&&z.is.mobile())&&z.scrollBack(),i.call(j))},r.off(k+p),r.on(k+p,t),v(n)},scrollToTop:function(){z.verbose("Scrolling to top of page to avoid animation issues"),C=e(i).scrollTop(),E.scrollTop(0),i.scrollTo(0,0)},scrollBack:function(){z.verbose("Scrolling back to original page position"),i.scrollTo(0,C)},clear:{cache:function(){z.verbose("Clearing cached dimensions"),z.cache={}}},set:{ios:function(){c.addClass(x.ios)},pushed:function(){H.addClass(x.pushed)},pushable:function(){H.addClass(x.pushable)},dimmed:function(){D.addClass(x.dimmed)},active:function(){E.addClass(x.active)},animating:function(){E.addClass(x.animating)},transition:function(e){e=e||z.get.transition(),E.addClass(e)},direction:function(e){e=e||z.get.direction(),E.addClass(x[e])},visible:function(){E.addClass(x.visible)},overlay:function(){E.addClass(x.overlay)}},remove:{inlineCSS:function(){z.debug("Removing inline css styles",s),s&&0<s.length&&s.remove()},ios:function(){c.removeClass(x.ios)},pushed:function(){H.removeClass(x.pushed)},pushable:function(){H.removeClass(x.pushable)},active:function(){E.removeClass(x.active)},animating:function(){E.removeClass(x.animating)},transition:function(e){e=e||z.get.transition(),E.removeClass(e)},direction:function(e){e=e||z.get.direction(),E.removeClass(x[e])},visible:function(){E.removeClass(x.visible)},overlay:function(){E.removeClass(x.overlay)}},get:{direction:function(){return E.hasClass(x.top)?x.top:E.hasClass(x.right)?x.right:E.hasClass(x.bottom)?x.bottom:x.left},transition:function(){var e=z.get.direction(),i=z.is.mobile()?"auto"==w.mobileTransition?w.defaultTransition.mobile[e]:w.mobileTransition:"auto"==w.transition?w.defaultTransition.computer[e]:w.transition;return z.verbose("Determined transition",i),i},transitionEvent:function(){var e,i=n.createElement("element"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(i.style[e]!==t)return o[e]}},is:{ie:function(){return!i.ActiveXObject&&"ActiveXObject"in i||"ActiveXObject"in i},ios:function(){var e=navigator.userAgent,i=e.match(A.ios),n=e.match(A.mobileChrome);return!(!i||n||(z.verbose("Browser was found to be iOS",e),0))},mobile:function(){var e=navigator.userAgent;return e.match(A.mobile)?(z.verbose("Browser was found to be mobile",e),!0):(z.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!z.is.visible()},visible:function(){return E.hasClass(x.visible)},open:function(){return z.is.visible()},closed:function(){return z.is.hidden()},vertical:function(){return E.hasClass(x.top)},animating:function(){return H.hasClass(x.animating)},rtl:function(){return z.cache.rtl===t&&(z.cache.rtl="rtl"==E.css("direction")),z.cache.rtl}},setting:function(i,n){if(z.debug("Changing setting",i,n),e.isPlainObject(i))e.extend(!0,w,i);else{if(n===t)return w[i];e.isPlainObject(w[i])?e.extend(!0,w[i],n):w[i]=n}},internal:function(i,n){if(e.isPlainObject(i))e.extend(!0,z,i);else{if(n===t)return z[i];z[i]=n}},debug:function(){!w.silent&&w.debug&&(w.performance?z.performance.log(arguments):(z.debug=Function.prototype.bind.call(console.info,console,w.name+":"),z.debug.apply(console,arguments)))},verbose:function(){!w.silent&&w.verbose&&w.debug&&(w.performance?z.performance.log(arguments):(z.verbose=Function.prototype.bind.call(console.info,console,w.name+":"),z.verbose.apply(console,arguments)))},error:function(){w.silent||(z.error=Function.prototype.bind.call(console.error,console,w.name+":"),z.error.apply(console,arguments))},performance:{log:function(e){var i,n;w.performance&&(n=(i=(new Date).getTime())-(f||i),f=i,b.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:j,"Execution Time":n})),clearTimeout(z.performance.timer),z.performance.timer=setTimeout(z.performance.display,500)},display:function(){var i=w.name+":",n=0;f=!1,clearTimeout(z.performance.timer),e.each(b,(function(e,i){n+=i["Execution Time"]})),i+=" "+n+"ms",u&&(i+=" '"+u+"'"),(console.group!==t||console.table!==t)&&0<b.length&&(console.groupCollapsed(i),console.table?console.table(b):e.each(b,(function(e,i){i.Name,i["Execution Time"]})),console.groupEnd()),b=[]}},invoke:function(i,n,o){var s,a,l,c=R;return n=n||g,o=j||o,"string"==typeof i&&c!==t&&(i=i.split(/[\. ]/),s=i.length-1,e.each(i,(function(n,o){var r=n!=s?o+i[n+1].charAt(0).toUpperCase()+i[n+1].slice(1):i;if(e.isPlainObject(c[r])&&n!=s)c=c[r];else{if(c[r]!==t)return a=c[r],!1;if(!e.isPlainObject(c[o])||n==s)return c[o]!==t?a=c[o]:z.error(F.method,i),!1;c=c[o]}}))),e.isFunction(a)?l=a.apply(o,n):a!==t&&(l=a),e.isArray(r)?r.push(l):r!==t?r=[r,l]:l!==t&&(r=l),a}};m?(R===t&&z.initialize(),z.invoke(h)):(R!==t&&z.invoke("destroy"),z.initialize())})),r!==t?r:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document);